(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[853],{4910:function(e,n,t){Promise.resolve().then(t.bind(t,8490))},8490:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return W}});var s=t(2805),a=t(9268),l=t(2515),i=t(1835),o=t(6006),r=t(3383),d=JSON.parse('[{"handle":"havana723","type":"staff","solves":0},{"handle":"shiftpsh","type":"staff","solves":0},{"handle":"HYEA","type":"staff","solves":0},{"handle":"YouYoung","type":"staff","solves":0},{"handle":"chansol","type":"staff","solves":0},{"handle":"16silver","type":"staff","solves":0},{"handle":"crescent_h","type":"staff","solves":0},{"handle":"pichulia","type":"staff","solves":0},{"handle":"ai4youej","type":"contestant","solves":5},{"handle":"alsrb0504","type":"contestant","solves":6},{"handle":"alswnssl0528","type":"contestant","solves":6},{"handle":"amylo","type":"contestant","solves":5},{"handle":"arietis","type":"contestant","solves":5},{"handle":"asd122032","type":"contestant","solves":4},{"handle":"asdhugh1","type":"contestant","solves":5},{"handle":"atopi0827","type":"contestant","solves":2},{"handle":"Aunps","type":"contestant","solves":2},{"handle":"BothEarRim","type":"contestant","solves":5},{"handle":"cdg0228","type":"contestant","solves":4},{"handle":"cjh970422","type":"contestant","solves":4},{"handle":"djeleanor2","type":"contestant","solves":2},{"handle":"dlalsdn1009","type":"contestant","solves":1},{"handle":"duwang2580","type":"contestant","solves":4},{"handle":"haruki291sa","type":"contestant","solves":6},{"handle":"hijkl2e","type":"contestant","solves":9},{"handle":"hjroh0315","type":"contestant","solves":6},{"handle":"hopedream","type":"contestant","solves":3},{"handle":"ji0513ji","type":"contestant","solves":3},{"handle":"jk410","type":"contestant","solves":7},{"handle":"jshyun912","type":"contestant","solves":3},{"handle":"kimingan","type":"contestant","solves":1},{"handle":"kongum","type":"contestant","solves":3},{"handle":"lambda","type":"contestant","solves":6},{"handle":"maple0118","type":"contestant","solves":1},{"handle":"martinok1103","type":"contestant","solves":7},{"handle":"mjhmjh1104","type":"contestant","solves":7},{"handle":"nowdragon12","type":"contestant","solves":3},{"handle":"nunebin","type":"contestant","solves":5},{"handle":"nureongi0214","type":"contestant","solves":3},{"handle":"old_man_and_the_sea","type":"contestant","solves":6},{"handle":"pani","type":"contestant","solves":6},{"handle":"plan_pt","type":"contestant","solves":3},{"handle":"pridom1118","type":"contestant","solves":3},{"handle":"qwerasdfzxcl","type":"contestant","solves":4},{"handle":"riroan","type":"contestant","solves":6},{"handle":"ruykun","type":"contestant","solves":6},{"handle":"sangchoo1201","type":"contestant","solves":5},{"handle":"sch314","type":"contestant","solves":5},{"handle":"seawon0808","type":"contestant","solves":6},{"handle":"shoo040113","type":"contestant","solves":7},{"handle":"smiley07","type":"contestant","solves":5},{"handle":"star7sss","type":"contestant","solves":1},{"handle":"sunso514","type":"contestant","solves":5},{"handle":"swyjs","type":"contestant","solves":3},{"handle":"tankgewehr","type":"contestant","solves":4},{"handle":"tlsdydaud1","type":"contestant","solves":7},{"handle":"toycartoon","type":"contestant","solves":3},{"handle":"utilforever","type":"contestant","solves":4},{"handle":"vyu","type":"contestant","solves":5},{"handle":"w8385","type":"contestant","solves":5},{"handle":"wanderkind","type":"contestant","solves":2},{"handle":"wapas","type":"contestant","solves":7},{"handle":"wizardrabbit","type":"contestant","solves":7},{"handle":"wnstjd732","type":"contestant","solves":6}]'),c=t(402),h=t(475),m=t(3328),p=t(2771),u=t(1555),y=t(3335),x=t(8941),j=t(2166),f=t(5873),v=t(9545),g=t(1313),b=t(4890),k=t(3785),w=t(6462);function T(){let e=(0,s._)(["\n  display: flex;\n  flex-wrap: wrap;\n  gap: 8px;\n"]);return T=function(){return e},e}function P(){let e=(0,s._)(["\n  display: block;\n"]);return P=function(){return e},e}function C(){let e=(0,s._)(["\n  display: grid;\n  grid-template-columns: 1fr 2fr 1fr 1fr;\n"]);return C=function(){return e},e}let _=y.default.div(T()),L=(0,y.default)(i.RM)(P()),J=(0,y.default)(i.X2)(C());function W(){let e=(0,c.aC)(),n=(0,h.Ds)(),[t,s]=(0,o.useState)("terraforming-mars"),[y,T]=(0,o.useState)(120),[P,C]=(0,o.useState)([]),[W,Z]=(0,o.useState)(""),[N,S]=(0,o.useState)(!1),A=(0,o.useRef)(null),M=(0,o.useMemo)(()=>r.find(e=>e.id===t),[t]),R=(0,o.useMemo)(()=>{let e=W.trim().toLocaleLowerCase();return e.length?d.filter(n=>!P.find(e=>e.handle===n.handle)&&!!n.handle.toLocaleLowerCase().includes(e)).sort((n,t)=>{let s=n.handle.toLocaleLowerCase().startsWith(e),a=t.handle.toLocaleLowerCase().startsWith(e);return s==a?n.handle.localeCompare(t.handle):s?-1:1}):[]},[P,W]),z=(0,o.useMemo)(()=>{let e=[];return P.length<2&&e.push("플레이어 수(".concat(P.length,"명)가 2명 미만")),P.length<M.players.min&&e.push("플레이어 수(".concat(P.length,"명)가 ").concat(M.name," 권장 최소 플레이어 수(").concat(M.players.min,"명)보다 적음")),P.length>M.players.max&&e.push("플레이어 수(".concat(P.length,"명)가 ").concat(M.name," 권장 최대 플레이어 수(").concat(M.players.max,"명)보다 많음")),e},[M.name,M.players.max,M.players.min,P.length]),E=e=>{if(!A.current)return;let n=d.find(n=>n.handle===e);n&&(C(t=>t.find(n=>n.handle===e)?t:[...t,{handle:e,rank:t.length+1,exclude:"staff"===n.type}]),Z(""),A.current.focus())},q=e=>{C(n=>n.filter(n=>n.handle!==e).map((e,n)=>({...e,rank:n+1})))},D=e=>{let{destination:n,source:t}=e;n&&n.index!==t.index&&C(e=>{let s=[...e],[a]=s.splice(t.index,1);return s.splice(n.index,0,a),s.map((e,n)=>({...e,rank:n+1}))})},O=async()=>{if(N)return;S(!0);let e=(0,w.Z)(),s=Date.now();try{await (0,b.t8)((0,b.iH)(m.db,"games/".concat(e)),{uuid:e,finishedAt:s,gameId:t,durationMinutes:y,result:P}),n.enqueue({message:"게임 결과가 추가되었습니다.",severity:"success"}),C([])}catch(e){e instanceof g.ZR?n.enqueue({message:"게임 결과 추가에 실패했습니다: ".concat(e.message),severity:"error"}):n.enqueue({message:"게임 결과 추가에 실패했습니다.",severity:"error"})}S(!1)};return e.isAdmin?(0,a.jsxs)(i.W2,{children:[(0,a.jsx)(i.T,{h:64}),(0,a.jsx)(i.Jd,{h4:!0,as:"h2",children:"게임"}),(0,a.jsx)(l.Z,{value:t,onChange:e=>{let{value:n}=e;return s(n)},fullWidth:!0}),(0,a.jsx)(i.T,{h:8}),(0,a.jsx)(i.Jd,{h4:!0,as:"h2",children:"플레이 시간 (분)"}),(0,a.jsx)(i.qo,{placeholder:"게임 시간",value:y.toString(),type:"number",onChange:e=>{let{target:{value:n}}=e,t=Number(n);Number.isNaN(t)?T(0):T((0,p.uZ)(Math.floor(t),0,1e3))},fullWidth:!0}),(0,a.jsx)(i.T,{h:16}),(0,a.jsxs)(i.Jd,{h4:!0,as:"h2",children:["게임 결과"," ",(0,a.jsxs)(i.Jd,{description:!0,style:{fontWeight:"normal"},children:[(0,a.jsx)(x.Z,{})," ",P.length,"명"]})]}),(0,a.jsx)(i.qo,{ref:A,placeholder:"유저 검색",value:W,onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),R.length>=1&&E(R[0].handle))},onChange:e=>{let{target:{value:n}}=e;return Z(n)},fullWidth:!0}),(0,a.jsx)(i.T,{h:16}),(0,a.jsx)(_,{children:R.slice(0,10).map(e=>(0,a.jsxs)(i.zx,{onClick:()=>E(e.handle),children:[e.handle,"staff"===e.type&&(0,a.jsxs)(a.Fragment,{children:[" ",(0,a.jsx)(i.Jd,{description:!0,children:"(스탭)"})]})]},e.handle))}),(0,a.jsx)(i.T,{h:16}),0===P.length?(0,a.jsx)(i.at,{children:"게입 결과를 입력하지 않았습니다."}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(i.iA,{fullWidth:!0,children:[(0,a.jsx)(i.ss,{children:(0,a.jsxs)(J,{children:[(0,a.jsx)(i.bL,{children:"순위"}),(0,a.jsx)(i.bL,{children:"핸들"}),(0,a.jsx)(i.bL,{children:"점수"}),(0,a.jsx)(i.bL,{children:"삭제"})]})}),(0,a.jsx)(k.Z5,{onDragEnd:D,children:(0,a.jsx)(k.bK,{droppableId:"list",children:(e,n)=>(0,a.jsxs)(L,{ref:e.innerRef,...e.droppableProps,children:[P.map(e=>(0,a.jsx)(k._l,{draggableId:e.handle,index:e.rank-1,children:(n,t)=>(0,a.jsxs)(J,{ref:n.innerRef,...n.draggableProps,...n.dragHandleProps,style:{...n.draggableProps.style,...n.draggableProps.style},children:[(0,a.jsx)(i.bL,{style:{textAlign:"center"},children:(0,a.jsxs)(i.Jd,{tabular:!0,children:[e.rank,"위"]})}),(0,a.jsx)(i.bL,{style:{verticalAlign:"middle"},children:(0,a.jsx)(i.Jd,{ellipsis:!0,description:e.exclude,children:e.handle})}),(0,a.jsx)(i.bL,{style:{textAlign:"right"},children:(0,a.jsx)(i.Jd,{tabular:!0,children:e.exclude?0:(0,u.Gs)(P.length,y,e.rank).toLocaleString("en-US")})}),(0,a.jsx)(i.bL,{padding:"none",children:(0,a.jsx)(i.zx,{onClick:()=>q(e.handle),fullWidth:!0,transparent:!0,children:(0,a.jsx)(j.Z,{})})})]})},e.handle)),e.placeholder]})})})]}),(0,a.jsx)(i.T,{h:32}),(0,a.jsxs)(i.zx,{fullWidth:!0,disabled:N||0!==z.length,onClick:O,children:[(0,a.jsx)(f.Z,{})," 기록 (",M.name,", ",y,"분, ",P.length,"명)"]}),0!==z.length&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.T,{h:16}),z.map(e=>(0,a.jsx)("div",{children:(0,a.jsxs)(i.Jd,{error:!0,children:[(0,a.jsx)(v.Z,{})," ",e]})},e)),(0,a.jsx)(i.T,{h:16}),(0,a.jsx)("div",{style:{textAlign:"center"},children:(0,a.jsx)(i.Jd,{description:!0,small:!0,style:{cursor:"pointer",textDecoration:"underline"},onClick:O,children:"경고 무시하고 등록하기"})})]})]}),(0,a.jsx)(i.T,{h:64})]}):(0,a.jsx)(i.W2,{children:(0,a.jsx)(i.at,{children:"관리자가 아닙니다."})})}},2515:function(e,n,t){"use strict";t.d(n,{Z:function(){return j}});var s=t(2805),a=t(9268),l=t(3383),i=t(3335),o=t(1835),r=t(1527);function d(){let e=(0,s._)(["\n  height: 1.2em;\n  width: 1.2em;\n  margin: 0 0.05em 0 0.1em;\n  vertical-align: -0.25em;\n"]);return d=function(){return e},e}let c=e=>"https://twemoji.maxcdn.com/v/latest/72x72/".concat(e,".png"),h=i.default.img(d()),m=e=>{let{emoji:n}=e;return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(h,{src:c(r.Z.convert.toCodePoint(n)),alt:n})})};function p(){let e=(0,s._)(["\n  display: inline-block;\n  text-align: center;\n  width: 2em;\n"]);return p=function(){return e},e}let u=i.default.span(p()),y=l.map(e=>({label:e.name,value:e.id,emoji:e.emoji})).sort((e,n)=>"custom"===e.value?1:"custom"===n.value?-1:e.label.localeCompare(n.label)),x=e=>{let{value:n,onChange:t,...s}=e;return(0,a.jsx)(o.Ph,{items:y,value:n,render:e=>{let{label:n,emoji:t}=e;return(0,a.jsxs)("span",{children:[(0,a.jsx)(u,{children:(0,a.jsx)(m,{emoji:t})}),n]})},onChange:e=>t(e),...s})};var j=x},2771:function(e,n,t){"use strict";t.d(n,{UR:function(){return a},VQ:function(){return l},uZ:function(){return s}});let s=(e,n,t)=>Math.min(Math.max(e,n),t),a=e=>s(e,2,10),l=e=>s(e,1,300)},1555:function(e,n,t){"use strict";t.d(n,{Ab:function(){return a},Gs:function(){return l},WR:function(){return s}});let s=(e,n)=>2*e+1-n,a=e=>e*e+e*(e+1)/2,l=(e,n,t)=>10*Math.ceil(s(e,t)/a(e)*n*e)},3383:function(e){"use strict";e.exports=JSON.parse('[{"id":"terraforming-mars","name":"테라포밍 마스","emoji":"\uD83C\uDF0D","players":{"min":1,"max":5},"estimatedPlayTime":{"min":90,"max":120}},{"id":"sakura-arms","name":"벚꽃 내리는 시대에 결투를","emoji":"\uD83C\uDF38","players":{"min":2,"max":2},"estimatedPlayTime":{"min":10,"max":20}},{"id":"halli-galli","name":"할리갈리","emoji":"\uD83C\uDF4B","players":{"min":2,"max":7},"estimatedPlayTime":{"min":5,"max":15}},{"id":"chess","name":"체스","emoji":"♟","players":{"min":2,"max":2},"estimatedPlayTime":{"min":30,"max":60}},{"id":"crazy-time","name":"크레이지 타임","emoji":"\uD83D\uDD70","players":{"min":3,"max":14},"estimatedPlayTime":{"min":20,"max":30}},{"id":"dominion","name":"도미니언","emoji":"\uD83C\uDFF0","players":{"min":2,"max":4},"estimatedPlayTime":{"min":30,"max":40}},{"id":"splendor","name":"스플렌더","emoji":"\uD83D\uDC8E","players":{"min":2,"max":4},"estimatedPlayTime":{"min":20,"max":30}},{"id":"yacht-dice","name":"요트 다이스","emoji":"\uD83C\uDFB2","players":{"min":1,"max":20},"estimatedPlayTime":{"min":5,"max":20}},{"id":"no-thanks","name":"노 땡스!","emoji":"\uD83D\uDE45‍♂️","players":{"min":3,"max":7},"estimatedPlayTime":{"min":20,"max":30}},{"id":"uno","name":"UNO","emoji":"\uD83C\uDCCF","players":{"min":2,"max":10},"estimatedPlayTime":{"min":20,"max":30}},{"id":"bang","name":"뱅!","emoji":"\uD83D\uDD2B","players":{"min":4,"max":7},"estimatedPlayTime":{"min":20,"max":40}},{"id":"zenga","name":"젠가","emoji":"\uD83D\uDCE6","players":{"min":1,"max":8},"estimatedPlayTime":{"min":5,"max":20}},{"id":"richii-mahjong","name":"리치 마작","emoji":"\uD83C\uDC04","players":{"min":3,"max":4},"estimatedPlayTime":{"min":30,"max":60}},{"id":"custom","name":"직접 입력","emoji":"\uD83D\uDCDD","players":{"min":1,"max":20},"estimatedPlayTime":{"min":5,"max":120}}]')}},function(e){e.O(0,[169,759,770,697,133,520,77,142,402,667,139,744],function(){return e(e.s=4910)}),_N_E=e.O()}]);