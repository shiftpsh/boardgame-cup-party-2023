(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[460],{6976:function(e,s,n){Promise.resolve().then(n.bind(n,1782))},1782:function(e,s,n){"use strict";n.r(s),n.d(s,{default:function(){return y}});var r=n(2805),i=n(9268),t=n(5002),l=n(475),d=n(3328),c=n(3335),a=n(1835),h=(0,n(777).Z)("trash","IconTrash",[["path",{d:"M4 7l16 0",key:"svg-0"}],["path",{d:"M10 11l0 6",key:"svg-1"}],["path",{d:"M14 11l0 6",key:"svg-2"}],["path",{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12",key:"svg-3"}],["path",{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3",key:"svg-4"}]]),u=n(1313),x=n(4890),j=n(6006);function o(){let e=(0,r._)(["\n  width: 32px;\n  height: 32px;\n  border-radius: 50%;\n"]);return o=function(){return e},e}function f(){let e=(0,r._)(["\n  display: flex;\n  align-items: center;\n  gap: 0 16px;\n"]);return f=function(){return e},e}let p=c.default.img(o()),m=c.default.div(f());function y(){let e=(0,t.aC)(),s=(0,l.Ds)(),[n,r]=(0,j.useState)([]),[c,o]=(0,j.useState)(new Map);(0,j.useEffect)(()=>{if(!e.user)return;let s=(0,x.jM)((0,x.iH)(d.db,"admin_emails"),e=>{let s=[];e.forEach(e=>{e.key&&s.push(e.key)}),r(s)});return s},[e.user]),(0,j.useEffect)(()=>{let e=(0,x.jM)((0,x.iH)(d.db,"users"),e=>{let s=new Map;e.forEach(e=>{e.key&&s.set(e.key,e.val())}),o(s)});return e},[]);let f=async e=>{try{await (0,x.Od)((0,x.iH)(d.db,"admin_emails/"+e)),s.enqueue({message:"관리자를 삭제했습니다.",severity:"success"})}catch(e){console.error(e),e instanceof u.ZR?s.enqueue({message:"관리자 삭제에 실패했습니다: ".concat(e.message),severity:"error"}):s.enqueue({message:"관리자 삭제에 실패했습니다.",severity:"error"})}};return e.isAdmin?(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(a.W2,{children:[(0,i.jsx)(a.T,{h:32}),(0,i.jsx)(a.Jd,{h2:!0,children:"관리자 목록"}),(0,i.jsx)(a.xJ,{children:(0,i.jsxs)(a.iA,{fullWidth:!0,children:[(0,i.jsx)(a.ss,{children:(0,i.jsxs)(a.X2,{children:[(0,i.jsx)(a.bL,{width:"40%",children:"이름"}),(0,i.jsx)(a.bL,{width:"40%",children:"UID"}),(0,i.jsx)(a.bL,{width:"20%",children:"삭제"})]})}),(0,i.jsx)(a.RM,{children:n.map(e=>{let s=c.get(e);return(0,i.jsxs)(a.X2,{children:[s?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a.bL,{style:{verticalAlign:"middle"},children:(0,i.jsxs)(m,{children:[(0,i.jsx)(p,{src:s.photoURL,alt:s.name+"의 프로필 사진"}),(0,i.jsxs)("div",{children:[s.name,(0,i.jsx)("br",{}),(0,i.jsx)(a.Jd,{description:!0,small:!0,children:s.email})]})]})}),(0,i.jsx)(a.bL,{style:{verticalAlign:"middle"},children:e})]}):(0,i.jsx)(a.bL,{colSpan:2,children:(0,i.jsx)(a.Jd,{description:!0,ellipsis:!0,style:{display:"block"},children:e})}),(0,i.jsx)(a.bL,{children:(0,i.jsx)(a.zx,{fullWidth:!0,transparent:!0,onClick:()=>f(e),children:(0,i.jsx)(h,{})})})]},e)})})]})})]})}):(0,i.jsx)(a.W2,{children:(0,i.jsx)(a.at,{children:"관리자가 아닙니다."})})}}},function(e){e.O(0,[169,759,770,697,520,865,2,667,139,744],function(){return e(e.s=6976)}),_N_E=e.O()}]);